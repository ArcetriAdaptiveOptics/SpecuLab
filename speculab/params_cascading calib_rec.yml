
sh_subaps:
  class: 'ShSubapCalibrator'
  subap_on_diameter: 20
  output_tag:        'cascading_subaps_n20_th0.5'
  energy_th:         0.5
  inputs:
    in_pixels: 'detector.out_pixels'


pushpull:
  class: 'PushPullGenerator'
  nmodes: 819
  amp:    1e-7
  nsampes: 5
  outputs: ['output']


main_override:
  total_time:   1.638


prop_override:
  inputs:
    common_layer_list: ['pupilstop',
                        'dm.out_layer']

dm_override:
  sign: 1
  inputs:
    in_command: 'pushpull.output'


im_calibrator:
  class: 'ImCalibrator'
  nmodes: 819
  im_tag:     'cascading_im'
  overwrite: True
  inputs:
    in_slopes: 'slopec.out_slopes'
    in_commands: 'pushpull.output'
  outputs: ['out_im','out_intmat']


rec_calibrator:
  class: 'RecCalibrator'
  nmodes: 819
  rec_tag:     'cascading_rec'
  overwrite: True
  inputs:
    in_intmat: 'im_calibrator.out_intmat